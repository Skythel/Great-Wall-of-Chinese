<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Great Wall of Chinese</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.js"></script>

    <!-- Booststrap (CSS) assets -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    <!-- Font Awesome (icons) assets -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav" id="teacherNavBar">
            <a class="nav-item nav-link my-0" href='world_selection.html'>Change World</a>
            <a class="nav-item nav-link my-0" href='#' data-bs-toggle="modal" data-bs-target="#createCustomLevel-modal">Create custom level</a>
            <a class="nav-item nav-link my-0" href='#' data-bs-toggle="modal" data-bs-target="#viewCustomLevel-modal">View custom level</a>
            <a class="nav-item nav-link my-0" href="#" data-bs-toggle="modal" data-bs-target="#viewAssignment-modal" id="assignmentNotification"></a>
            <a class="nav-item nav-link my-0" href="#" data-bs-toggle="modal" data-bs-target="#leaderboard-modal">Leaderboard</a>
          </div>
        </div>
          <form class="form-inline">
              <button id="teacherLogOut" class="btn btn-danger mx-2" type="button" data-bs-toggle="modal" data-bs-target="#logout-modal">Log out</button>
          </form>
    </nav>
    <div id="idiomWorld" style="height: 95%;"></div>

    <!--Create custom level Modal starts here-->
    <div class="modal fade" id="createCustomLevel-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header justify-content-center">
            <h4 class="modal-title" id="modal-title">Create custom level</h4>
          </div>
          <div class="modal-body">
            <div class="container">
              <div class="row text-center">
                <div class="col auto">
                  <select type="text" name="questionType" class="form-control my-3" >
                    <option value="" selected disabled>Question 1</option>
                    <option value="Idiom">Idioms</option>
                    <option value="Pinyin">Hanyu Pinyin</option>
                    <option value="Fill">Fill in the blanks</option>
                  </select>
                  <select type="text" name="questionType" class="form-control my-3" >
                    <option value="" selected disabled>Question 2</option>
                    <option value="Idiom">Idioms</option>
                    <option value="Pinyin">Hanyu Pinyin</option>
                    <option value="Fill">Fill in the blanks</option>
                  </select>
                  <select type="text" name="questionType" class="form-control my-3" >
                    <option value="" selected disabled>Question 3</option>
                    <option value="Idiom">Idioms</option>
                    <option value="Pinyin">Hanyu Pinyin</option>
                    <option value="Fill">Fill in the blanks</option>
                  </select>
                  <select type="text" name="questionType" class="form-control my-3" >
                    <option value="" selected disabled>Question 4</option>
                    <option value="Idiom">Idioms</option>
                    <option value="Pinyin">Hanyu Pinyin</option>
                    <option value="Fill">Fill in the blanks</option>
                  </select>
                  <select type="text" name="questionType" class="form-control my-3" >
                    <option value="" selected disabled>Question 5</option>
                    <option value="Idiom">Idioms</option>
                    <option value="Pinyin">Hanyu Pinyin</option>
                    <option value="Fill">Fill in the blanks</option>
                  </select>
                </div>
                <div class="col auto">
                  <select type="text" name="difficulty" class="form-control my-3" >
                    <option value="" selected disabled>Select difficulty</option>
                    <option value="Easy">Easy</option>
                    <option value="Medium">Medium</option>
                    <option value="Difficult">Difficult</option>
                  </select>
                  <select type="text" name="difficulty" class="form-control my-3" >
                    <option value="" selected disabled>Select difficulty</option>
                    <option value="Easy">Easy</option>
                    <option value="Medium">Medium</option>
                    <option value="Difficult">Difficult</option>
                  </select>
                  <select type="text" name="difficulty" class="form-control my-3" >
                    <option value="" selected disabled>Select difficulty</option>
                    <option value="Easy">Easy</option>
                    <option value="Medium">Medium</option>
                    <option value="Difficult">Difficult</option>
                  </select>
                  <select type="text" name="difficulty" class="form-control my-3" >
                    <option value="" selected disabled>Select difficulty</option>
                    <option value="Easy">Easy</option>
                    <option value="Medium">Medium</option>
                    <option value="Difficult">Difficult</option>
                  </select>
                  <select type="text" name="difficulty" class="form-control my-3" >
                    <option value="" selected disabled>Select difficulty</option>
                    <option value="Easy">Easy</option>
                    <option value="Medium">Medium</option>
                    <option value="Difficult">Difficult</option>
                  </select>
                </div>
              </div>
              <div class="row text-center justify-content-center mt-3">
                <div class="col-auto">
                  <input class="form-control" type="text" id="customLevelName" placeholder="Custom level name" aria-label="Search">
                </div>
                <div class="col-auto">
                  <button onclick="saveCustomLevel()" class="btn btn-success" type="submit" id="saveCustomLevelBtn">Save Custom level</button>
                </div>
              </div>
            </div>
            <div id="createCustomLevelresponse"></div>
          </div>
          <div class="modal-footer justify-content-center">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!--Create custom level Modal ends here-->

    <!--View custom level Modal starts here-->
    <div class="modal fade" id="viewCustomLevel-modal" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header justify-content-center">
            <h4 class="modal-title" id="modal-title">View custom levels</h4>
          </div>
          <div class="modal-body">
            <div class="container">
              <table class="table table-bordered table-light">
                <thead>
                  <tr>
                    <th scope="col">Level name</th>
                    <th scope="col">Actions</th>
                  </tr>
                </thead>
                <tbody id="viewCustomLevel">
                </tbody>
              </table>
            </div>
            <div id="viewCustomresponse"></div>
          </div>
          <div class="modal-footer justify-content-center">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!--View custom level Modal ends here-->

    <!--Select custom level Modal starts here-->
    <div class="modal fade" id="selectCustomLevel-modal" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header justify-content-center">
            <h4 class="modal-title" id="modal-title">Select custom level</h4>
          </div>
          <div class="modal-body">
            <div class="container">
              <table class="table table-bordered table-light" id = "selectCustomLevelTable-modal">
                <thead>
                  <tr>
                    <th scope="col">Level name</th>
                    <th scope="col">Actions</th>
                  </tr>
                </thead>
                <tbody id="selectCustomLevel">
                </tbody>
              </table>
            </div>
          </div>
          <div class="modal-footer justify-content-center">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!--Select custom level Modal ends here-->

    <!--View assignment Modal starts here-->
    <div class="modal fade" id="viewAssignment-modal" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header justify-content-center">
            <h4 class="modal-title" id="modal-title">Assignments</h4>
          </div>
          <div class="modal-body">
            <div class="container">
              <table class="table table-bordered table-light">
                <thead>
                  <tr>
                    <th scope="col">Assignments</th>
                    <th scope="col">Due date</th>
                    <th scope="col">Actions</th>
                  </tr>
                </thead>
                <tbody id="viewAssignments"></tbody>
              </table>
            </div>
          </div>
          <div class="modal-footer justify-content-center">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!--View assignment Modal ends here-->

    <!--invitationMessage Modal starts here-->
    <div class="modal fade" id="invitationMessage-modal" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header justify-content-center">
            <h4 class="modal-title" id="invitationMessageSender"></h4>
          </div>
          <div class="modal-body">
            <div class="modal-body text-center">
              <button onclick="acceptInvitation(this.value)" id="acceptPvpInvitation" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-dismiss="modal">Accept</button>
              <button onclick="rejectInvitation(this.value)" id="rejectPvpInvitation" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-dismiss="modal">Reject</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--invitationMessage Modal ends here-->

    <!--sentInvitation Modal starts here-->
    <div class="modal fade" id="sentInvitation-modal" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header justify-content-center">
            <h4 class="modal-title" id="invitationMessageReceiver"></h4>
          </div>
          <div class="modal-footer justify-content-center">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!--sentInvitation Modal ends here-->

    <!--rejectInvitation Modal starts here-->
    <div class="modal fade" id="rejectInvitation-modal" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header justify-content-center">
            <h4 class="modal-title" id="reject-modal-title">Your invitation got rejected :(</h4>
          </div>
          <div class="modal-footer justify-content-center">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!--rejectInvitation Modal ends here-->

    <!--Assignment mode Modal starts here-->
    <div class="modal fade" id="assignmentMode-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
        <div class="modal-dialog modal-fullscreen">
          <div class="modal-content">
            <div class="modal-body">
              <div class="container">
                <h1 class="text-center">Assignment</h1>
                <div class="row justify-content-center">
                  <div class="col-2" style="margin-top: 20%;" id="characterAvatarAssignment">
                  </div>
                  <div class="col-10" style="margin-top: 5%;">
                    <div class="row">
                      <div class="col-2">
                        <p class="fs-4 text-center">Progress:</p>
                      </div>
                      <div class="col-8" style="margin-top: 1%;" >
                        <div class="progress">
                          <div id="assignmentModeProgressBar" class="progress-bar" style="width: 0%;">0%</div> <!--width to update progress bar, inner html to update label -->
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-2">
                        <p class="fs-4 text-center">Score:</p>
                      </div>
                      <div class="col-8">
                        <p id="assignmentModeScore" class="fs-4 text-left">0/0</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col">
                        <div class="card">
                          <h5 id="assignmentModeQuestionNo" class="card-header text-center">Question 1</h5> <!--question number-->
                          <div class="card-body">
                            <p id="assignmentModeQuestion" class="card-text">This is a sample question</p>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row mt-5 text-center">
                      <div class="d-grid gap-2 col-6 mx-auto">
                        <button id="assignmentModeOption1" type="button" onclick="assignmentModeSubmit(event)" value="1" class="btn btn-primary">This is Option 1</button>
                      </div>
                      <div class="d-grid gap-2 col-6 mx-auto">
                        <button id="assignmentModeOption2" type="button" onclick="assignmentModeSubmit(event)" value="2" class="btn btn-primary">This is Option 2</button>
                      </div>
                    </div>
                    <div class="row mt-3 text-center">
                      <div class="d-grid gap-2 col-6 mx-auto">
                        <button id="assignmentModeOption3" type="button" onclick="assignmentModeSubmit(event)" value="3" class="btn btn-primary">This is Option 3</button>
                      </div>
                      <div class="d-grid gap-2 col-6 mx-auto">
                        <button id="assignmentModeOption4" type="button" onclick="assignmentModeSubmit(event)" value="4" class="btn btn-primary">This is Option 4</button>
                      </div>
                    </div>
                    <div class="row mt-5">
                      <div id="assignmentModeExplanation" class="col">
                        <!-- <div class="alert alert-success" role="alert">
                          <h4 class="alert-heading">Correct!</h4>
                          <p>The answer is 1</p>
                          <hr>
                          <p class="mb-0">This is the explanation for the question</p>
                        </div>
                        <div class="alert alert-danger" role="alert">
                          <h4 class="alert-heading">Wrong!</h4>
                          <p>The answer is 3</p>
                          <hr>
                          <p class="mb-0">This is the explanation for the question</p>
                        </div> -->
                      </div>
                    </div>
                    <div class="row mt-3">
                      <div id="assignmentModeComplete" class="col"></div> 
                    </div>
                    <div class="row mt-3">
                       <div class="col text-center">
                         <button type="button" onclick="assignmentModeLoadNextQuestion()" class="btn btn-success invisible" id="assignmentModeNextQuestion">next question</button>
                       </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer justify-content-center">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="socket.send('/exit assignment');updateAssignmentNotification()">Exit assignment</button>
            </div>
          </div>
        </div>
    </div>
    <!--Assignment mode Modal ends here-->

    <!--Leaderboard Modal starts here-->
    <div class="modal fade" id="leaderboard-modal" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header justify-content-center">
          <h3 class="modal-title" id="modal-title">Leaderboard</h3>
        </div>
        <div class="modal-body">
          <div class="container text-left">
            <h4>Adventure mode</h4>
            <table class="table table-bordered table-light">
              <thead>
                <tr>
                  <th scope="col">Position</th>
                  <th scope="col">Username</th>
                  <th scope="col">Adventure Points</th>
                  <th scope="col">Accuracy</th>
                </tr>
              </thead>
              <tbody id="adventureModeLeaderBoard">
              </tbody>
            </table>
          </div>
          <div class="container mt-5 text-left">
            <h4>PVP mode</h4>
            <table class="table table-bordered table-light">
              <thead>
                <tr>
                  <th scope="col">Position</th>
                  <th scope="col">Username</th>
                  <th scope="col">Rank</th>
                  <th scope="col">Rank Points</th>
                </tr>
              </thead>
              <tbody id="pvpModeLeaderBoard">
              </tbody>
            </table>
          </div>
        </div>
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
    </div>
    <!--Leaderboard Modal ends here-->

    <!--Confirm Adventure mode Modal starts here-->
    <div class="modal fade" id="startAdventureMode-modal" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-body text-center">
              <h5>Select adventure section</h5>
              <button onclick="selectAdventureSection(event)" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-dismiss="modal">Lower primary</button>
              <button onclick="selectAdventureSection(event)" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-dismiss="modal">Upper primary</button>
            </div>
            <div class="modal-footer justify-content-center">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
    </div>
    <!--Confirm Adventure mode Modal ends here--> 

    <!--Adventure mode Modal starts here-->
    <div class="modal fade" id="adventureMode-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
        <div class="modal-dialog modal-fullscreen">
          <div class="modal-content">
            <div class="modal-body">
                <h1 class="text-center">Idioms' adventure</h1>
                <div class="row justify-content-center">
                  <div class="col-2" style="margin-top: 5%;" id="characterAvatarAdventure"></div>
                  <div class="col-10" style="margin-top: 5%;">
                    <div class="row">
                      <div class="col-2">
                        <p class="fs-4 text-center">Progress:</p>
                      </div>
                      <div class="col-8" style="margin-top: 1%;" >
                        <div class="progress">
                          <div id="adventureModeProgressBar" class="progress-bar" style="width: 0%;">0%</div> <!--width to update progress bar, inner html to update label, start at 0% -->
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-2">
                        <p class="fs-4 text-center">Score:</p>
                      </div>
                      <div class="col-8">
                        <p id="adventureModeScore" class="fs-4 text-left">0/0</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col">
                        <div class="card">
                          <h5 id="adventureModeQuestionNo" class="card-header text-center">Question 1</h5> <!--question number-->
                          <div class="card-body">
                            <p id="adventureModeQuestion" class="card-text text-center"></p>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row mt-5 text-center">
                      <div class="d-grid gap-2 col-6 mx-auto">
                        <button id="adventureModeOption1" onclick="adventureModeSubmit(event)" type="button" value="1" class="btn btn-primary"></button>
                      </div>
                      <div class="d-grid gap-2 col-6 mx-auto">
                        <button id="adventureModeOption2" onclick="adventureModeSubmit(event)" type="button" value="2" class="btn btn-primary"></button>
                      </div>
                    </div>
                    <div class="row mt-3 text-center">
                      <div class="d-grid gap-2 col-6 mx-auto">
                        <button id="adventureModeOption3" onclick="adventureModeSubmit(event)" type="button" value="3" class="btn btn-primary"></button>
                      </div>
                      <div class="d-grid gap-2 col-6 mx-auto">
                        <button id="adventureModeOption4" onclick="adventureModeSubmit(event)" type="button" value="4" class="btn btn-primary"></button>
                      </div>
                    </div>
                    <div class="row mt-5">
                      <div id="adventureModeExplanation" class="col"></div>
                    </div>
                    <div class="row mt-3">
                      <div id="adventureModeComplete" class="col"></div> 
                    </div>
                    <div class="row mt-3">
                       <div class="col text-center">
                         <button type="button" onclick="adventureModeLoadNextQuestion()" class="btn btn-success invisible" id="adventureModeNextQuestionBtn">next question</button> <!--invisible at the start, visible when user submits an answer, loads next question onto the modal-->
                       </div>
                    </div>
                  </div>
                </div>
            </div>
            <div class="modal-footer justify-content-center">
              <button type="button" class="btn btn-secondary" onclick="socket.send('/exit adventure')" data-bs-dismiss="modal">Exit adventure mode</button>
            </div>
          </div>
        </div>
    </div>
    <!--Adventure mode Modal ends here-->

    <!--PVP mode Modal starts here-->
    <div class="modal fade" id="pvpMode-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
        <div class="modal-dialog modal-fullscreen">
          <div class="modal-content">
            <div class="modal-body">
              <h1 class="text-center">PVP Mode</h1>
              <div class="row">
                <!--For user-->
                <div class="col-2" style="margin-top: 5%;">
                  <div class="row">
                    <div class="col text-center">
                      <p id="pvpModeUserScore" class="fs-4">Your score: 0/0</p>
                    </div>
                  </div>
                  <div class="col" style="margin-right: 5%;" id="characterAvatarUserPVP">
                    <img class = "img-responsive" width = "100%"  src="images/martialHero.png"/>
                  </div>
                </div>
                <!--For showing questions-->
                <div class="col-8" style="margin-top: 5%;">
                  <div class="row">
                    <div class="col-2">
                      <p class="fs-4 text-center">Progress:</p>
                    </div>
                    <div class="col-8" style="margin-top: 1%;" >
                      <div class="progress">
                        <div id="pvpProgressBar" class="progress-bar" style="width: 0%;">0%</div> <!--width to update progress bar, inner html to update label, start at 0% -->
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col">
                      <div class="card">
                        <h5 id="pvpModeQuestionNo" class="card-header text-center">Question 1</h5> <!--question number-->
                        <div class="card-body">
                          <p id="pvpModeQuestion" class="card-text text-center">This is a sample question</p>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row mt-5 text-center">
                    <div class="d-grid gap-2 col-6 mx-auto">
                      <button id="pvpModeOption1" onclick="submitPvpAns(this.value)" type="button" value=1 class="btn btn-primary">Option 1</button>
                    </div>
                    <div class="d-grid gap-2 col-6 mx-auto">
                      <button id="pvpModeOption2" onclick="submitPvpAns(this.value)" type="button" value=2 class="btn btn-primary">Option 2</button>
                    </div>
                  </div>
                  <div class="row mt-3 text-center">
                    <div class="d-grid gap-2 col-6 mx-auto">
                      <button id="pvpModeOption3" onclick="submitPvpAns(this.value)" type="button" value=3 class="btn btn-primary">Option 3</button>
                    </div>
                    <div class="d-grid gap-2 col-6 mx-auto">
                      <button id="pvpModeOption4" onclick="submitPvpAns(this.value)" type="button" value=4 class="btn btn-primary">Option 4</button>
                    </div>
                  </div>
                  <div class="row mt-5">
                    <div id="pvpModeExplanation" class="col"></div>
                  </div>
                  <div class="row mt-3">
                    <div id="pvpModeComplete" class="col"></div> <!--Declare who is the winner here-->
                  </div>
                  <!-- <div class="row">
                     <div class="col text-center">
                       <button type="button" onclick="adventureModeLoadNextQuestion()" class="btn btn-success invisible" id="adventureModeNextQuestion">next question</button>
                     </div>
                  </div> -->
                </div>
                <!--For opponent-->
                <div class="col-2" style="margin-top: 5%;">
                  <div class="row">
                    <div class="col text-center">
                      <p id="pvpModeOpponentScore" class="fs-4">Opponent's score: 0/0</p>
                    </div>
                  </div>
                  <div class="col-auto" style="margin-left: 5%;" id="characterAvatarOpponentPVP">
                    <img class = "img-responsive" width = "100%"  src="images/martialHero.png"/>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer justify-content-center">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Exit PVP</button>
            </div>
          </div>
        </div>
    </div>
    <!--PVP mode Modal ends here-->

    <!--Logout Modal starts here-->
    <div class="modal fade" id="logout-modal" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modal-title">Log Out</h5>
            </div>
            <div class="modal-body">
              <p>Are you sure you want to log out?</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <a href="../scripts/function_logout" type="button" class="btn btn-danger" id="logout">Log out</a>
            </div>
          </div>
        </div>
    </div>
    <!--Logout Modal ends here--> 

    <!--ViewProfile Modal starts here -->
    <div class="modal fade" id="viewProfile-modal" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" style="pointer-events: auto;">
            <div class="card" style="border-radius: 15px; width: 35rem; padding-right: 70%; margin: 0 auto; float: none; margin-bottom: 10px;">
                <div class="card-body p-4">
                    <div class="d-flex text-black">
                        <div style="line-height: 12px;width: 30px;font-size: 15pt;font-family: tahoma;margin-top: 10px;margin-right: 3px;position:absolute;top:0;right:0;">
                            <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">X</button>
                        </div>
                      <div class="flex-shrink-0">
                        <img id="view_character" 
                          >
                      </div>
                      <div class="flex-grow-1 ms-3">
                        <h5 class="mb-1" id="username"></h5>
                        <div class="d-flex justify-content-start rounded-3 p-4 mb-3"
                          style="background-color: #efefef;">
                            <div>
                                <p class="small text-muted mb-2">Idioms</p>
                                <p class="mb-0" id="idioms_acc"></p>
                            </div>
                            <div class="px-3">
                                <p class="small text-muted mb-2">Fill</p>
                                <p class="mb-0" id="pinyin_acc"></p>
                            </div>
                            <div>
                                <p class="small text-muted mb-2">Pinyin</p>
                                <p class="mb-0" id="fill_acc"></p>
                            </div>
                            <div class="px-3"> 
                                <p class="small text-muted mb-2">Rank</p>
                                <p class="mb-0" id="rank"></p>
                            </div>
                        </div>
                        <div class="d-flex pt-1">
                            <button onclick ="sendPVPNotification(event)" class="btn btn-outline-primary me-1 flex-grow-1" type="button" data-bs-toggle="tooltip" data-bs-placement="top">Send PVP</button>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--ViewProfileModal ends here-->
    
    <!--Send PVP Invitation Modal starts here-->
    <div class="modal fade" id="sendPVPInvitation-modal" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-body text-center">
              <h5>Select which game mode TO challenge</h5>
              <button onclick="openSelectCustomLevelModal(this.value)" id="openSelectCustomLevelModal" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-dismiss="modal">Custom Game</button>
              <button onclick="sendRandomized(this.value)" id = "sendRandomized" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-dismiss="modal">Randomized</button>
            </div>
            <div class="modal-footer justify-content-center">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
    </div>
    <!--Send PVP Invitation Modal ends here-->
    
    <script type="module" src="src/idioms.js"></script>
    <script src="worldFunctions.js"></script>
</body>
<!-- <script src="worldFunctions.js"></script> -->
<script>
  var socket;
  var spawn; 
  var moving;
  var destroy;
  // var adventureModeProgress = 0; 		// progress in terms of percentage, starts at 0%
  // var adventureModeQnCorrect = 0; 	// num of questions correct, starts at 0
  // var adventureModeQnAttempted = 0; 	// num of questions attempted, starts at 0
  // var adventureModeCurrentQn = 0; 	// current question number, starts at 1

  // var assignmentModeProgress = 0; 	// progress in terms of percentage, starts at 0%
  // var assignmentModeQnCorrect = 0; 	// num of questions correct, starts at 0
  // var assignmentModeQnAttempted = 0; 	// num of questions attempted, starts at 0
  // var assignmentModeCurrentQn = 0; 	// current question number, starts at 1
</script>
<script type="module" src="../websocket/socket.js"></script>
</html>